<html>
<head>
<?php
   require 'SQLManager.class.php';
   $workoutId = $_GET['WorkoutID'];
   $sqlMgr = new SQLManager();
?>

<title>
<?php
   print "Workout - " . $sqlMgr->getWorkoutDate($workoutId);
?>
</title>
  <link type="text/css" rel="stylesheet" href="css/gymtime.css" /> 
  <link type="text/css" href="css/redmond/jquery-ui-1.8.16.custom.css" rel="stylesheet" />	
  <script type="text/javascript" src="js/jquery-1.6.2.min.js"></script>
  <script type="text/javascript" src="js/jquery-ui-1.8.16.custom.min.js"></script> 
  <script type="text/javascript" src="js/jquery.cycle.all.js"></script> 
  <script type="text/javascript" src="js/gymtime.js"></script> 
</head>

<body>
<?php
    print '<script type="text/javascript">';
    print   "var workoutMgr = new WorkoutManager('" . $workoutId . "','" . $sqlMgr->getWorkoutDate($workoutId)  . "');";
    if($sqlMgr->getWorkoutSetID($workoutId) != -1){
        $setId = $sqlMgr->getWorkoutSetID($workoutId);
		print	"$(document).ready(function(){ workoutMgr.setSetId('" . $setId . "');});";
        $data = $sqlMgr->getExerciseData($setId);
        print   "$(document).ready(function(){workoutMgr.load('" . $data  . "');});";
		
    }
    print '</script>';

?>
<div class="workout-date-header">
	<span>
	<?php 
	    print date("l F j, Y",strtotime($sqlMgr->getWorkoutDate($workoutId))); 
	?></span>
</div>

<table>
<tr>
<td valign="top">
<div id="StartExercisePanel">
   <a href="javascript:workoutMgr.startExercise();" class="button">Start Exercise</a><br>
   <a href="javascript:alert(2);" class="button">Finish Workout</a>

   <div id="ExercisesCompletedContainer">
      <h3>Completed Exercise </h3>
      <div id="ExercisesCompleted"></div>
   </div>
</div>
<div id="ExercisePanel" style="display:none;">
	   <div class="workout-set-exercise-types" style="">
		   <select name="exercise_categories" id="exercise_categories" >
		   <option value="null" >All</option>
		   <?php
               foreach ($sqlMgr->getExerciseCategories() as $exercise){
                   print '<option value="' . $exercise["MuscleGroup"] .'">' . $exercise["MuscleGroup"] .'</option>';
               }           
		   ?>		
		   </select>
	   </div>
	   <div class="workout-set-exercise" style="">
		   <select name="exercises" id="exercises" >
		   <?php
               foreach ($sqlMgr->getExercises(null) as $exercise){
                   print '<option value="' . $exercise["ID"] .'">' . $exercise["Name"] .'</option>';
               }           
		   ?>
		   </select>
	   </div>
	   <a href="javascript:workoutMgr.addExercise();" class="button">Start Set</a>
</div>
<div id="ExercisesContainer" style="width:200px;"></div>

</td>
</tr>
</table>

<div style="display:none;">
<a href="javascript:workoutMgr.cycle('previous');" />Previous</a>
<a href="javascript:workoutMgr.cycle('next');" />Next</a>
</div>

</body>
</html>
